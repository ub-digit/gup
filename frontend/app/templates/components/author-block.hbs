<!-- T_YES-READY -->
<!-- T_WONT-FIX -->
<section id="author-component" class="{{if errors 'has-error'}}">
  <label class="control-label"> <h2>{{authorHeaderText}}</h2><span class="text-danger">{{t 'components.authorBlock.mandatory'}}</span></label>
  {{#if errors}}
    <ul class="list-unstyled has-error">
      {{#each errors as |item|}}
        <li><i class="fa fa-info-circle"></i> {{item}}</li>
      {{/each}}
    </ul>
  {{/if}}

  {{#if fieldHelptext}}
    <span id={{GUID}} class="help-block">{{linkify (t fieldHelptext)}}</span>
  {{/if}}
  {{#if invalidSelectedDepartmentsRowsCount}}
  <div class="alert alert-danger">{{t 'components.authorBlock.invalidSelectedInstitutionsWarning' count=invalidSelectedDepartmentsRowsCount}}</div>
  {{/if}}
  {{#each authorArr as |item index|}}
    {{author-row
        item=item
        index=index
        totalNumberOfItems=totalNumberOfItems
        setMsgHeader=setMsgHeader
        institutions=institutions
        removeAuthor=(action 'removeAuthorRow')
        isThisTheOnlyAuthorRow=isThisTheOnlyAuthorRow
        moveUp=(action 'moveUp')
        moveDown=(action 'moveDown')
        queryAuthorsResult=(action 'queryAuthorsResult')
        submitCallbacks=submitCallbacks
        onInvalidSelectedDepartmentsEmpty=(action 'invalidSelectedDepartmentsEmpty' item)
        onInvalidSelectedDepartmentsPresent=(action 'invalidSelectedDepartmentsPresent' item)
    }}
  {{/each}}
  <div class="row">
    <div class="col-md-9">
      <div class="dotted-line"></div>
      <button class="btn btn-primary" {{action 'addEmptyAuthorRow'}}>{{t 'components.authorBlock.btnAddNewAuthor'}} <i class="fa fa-plus"></i></button>
    </div>
  </div>
</section>
